"use strict";(self.webpackChunkteaguru=self.webpackChunkteaguru||[]).push([[9210],{9210:(re,O,g)=>{g.r(O),g.d(O,{BrewPageModule:()=>te});var h=g(8583),f=g(665),u=g(3083),b=g(1383),e=g(639),w=g(6765);const M=JSON.parse('[{"name":"white","label":"White Tea","teaAmount":5,"waterAmount":250,"temperature":70,"brewTime":10,"icon":"white_tea.svg"},{"name":"green","label":"Green Tea","teaAmount":5,"waterAmount":250,"temperature":70,"brewTime":10,"icon":"green_tea.svg"},{"name":"oolong","label":"Oolong Tea","teaAmount":5,"waterAmount":250,"temperature":90,"brewTime":60,"icon":"oolong_tea.svg"},{"name":"puerh","label":"Pu-Erh","teaAmount":5,"waterAmount":250,"temperature":100,"brewTime":105,"icon":"pu_er_tea.svg"},{"name":"red","label":"Red Tea","teaAmount":5,"waterAmount":250,"temperature":90,"brewTime":90,"icon":"red_tea.svg"},{"name":"black","label":"Black Tea","teaAmount":5,"waterAmount":250,"temperature":90,"brewTime":90,"icon":"black_tea.svg"},{"name":"herbal","label":"Herbal Tea","teaAmount":5,"waterAmount":250,"temperature":90,"brewTime":120,"icon":"herbal_tea.svg"},{"name":"customize","label":"Customize","teaAmount":0,"waterAmount":0,"temperature":0,"brewTime":0,"icon":"customize.svg"}]');var I=g.t(M,2);let k=(()=>{class n{constructor(t){this.popoverController=t}ngOnInit(){}dismissPopover(){this.popoverController.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Dh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-teareadypopup"]],decls:7,vars:0,consts:[[1,"ion-padding","ion-text-center"],[1,"icon-wrapper"],["src","assets/teacup-tea.svg","alt",""],["shape","round",1,"primary",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-content",0),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Your tea is ready!"),e.qZA(),e.TgZ(5,"ion-button",3),e.NdJ("click",function(){return r.dismissPopover()}),e._uU(6,"OK"),e.qZA(),e.qZA())},directives:[u.W2,u.YG],styles:["ion-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.icon-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}ion-button[_ngcontent-%COMP%]{display:block}"]}),n})();var P=g(1161);let j=(()=>{class n{constructor(t,r){this.popoverController=t,this.timerService=r,this.gaugePercent=0}ngOnInit(){}ngOnChanges(){console.log("check timer change",this.timerIsOn),this.checkDefaultBrewTime(this.currentTea.brewTime),this.timerIsOn?("Customize"!==this.currentTea.label&&this.calcTimer(this.currentTea.brewTime),"Customize"===this.currentTea.label&&this.calcTimer(this.customizedTimer)):this.resetTimer()}checkDefaultBrewTime(t){t<60?(this.brewMinutes=0,this.brewSeconds=t):(this.brewMinutes=Math.floor(t/60),this.brewSeconds=t%60),this.brewingTimeDefault=`${this.brewMinutes<1?"0":""}${this.brewMinutes}:${this.brewSeconds<10?"0":""}${this.brewSeconds}`,this.brewingTime=this.brewingTimeDefault}displayTimeLeft(t){this.brewMinutes=Math.floor(t/60),this.brewSeconds=t%60,this.brewingTime=`${this.brewMinutes<1?"0":""}${this.brewMinutes}:${this.brewSeconds<10?"0":""}${this.brewSeconds}`}calcTimer(t){clearInterval(this.countdown);const a=Date.now()+1e3*t;this.countdown=setInterval(()=>{if(this.secondsLeft=Math.ceil((a-Date.now())/1e3),this.gaugePercent=100-Math.ceil(this.secondsLeft/t*100),this.secondsLeft<0)return clearInterval(this.countdown),void this.presentPopover();this.displayTimeLeft(this.secondsLeft),console.log("left",this.secondsLeft,"%",this.gaugePercent)},1e3)}resetTimer(){clearInterval(this.countdown),this.gaugePercent=0,this.brewingTime=this.brewingTimeDefault}presentPopover(){return function(n,o,t,r){return new(t||(t=Promise))(function(i,c){function l(p){try{s(r.next(p))}catch(d){c(d)}}function _(p){try{s(r.throw(p))}catch(d){c(d)}}function s(p){p.done?i(p.value):function(i){return i instanceof t?i:new t(function(c){c(i)})}(p.value).then(l,_)}s((r=r.apply(n,o||[])).next())})}(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:k,cssClass:"my-custom-class"});yield t.present(),t.onDidDismiss().then(r=>{this.resetTimer(),this.timerService.startTimer.next(!1)})})}ngOnDestroy(){this.timerService.startTimer.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Dh),e.Y36(w.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-timercountdown"]],inputs:{currentTea:"currentTea",customizedTimer:"customizedTimer",timerIsOn:"timerIsOn"},features:[e.TTD],decls:6,vars:3,consts:[[1,"countdown"],["type","full","cap","round","size","180","thick","10","foregroundColor","#8CB120","backgroundColor","#EFEFCD",3,"value"],["alt","",1,"teacup-icon",3,"src"],[1,"time-display"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"ngx-gauge",1),e.TgZ(2,"ngx-gauge-label"),e._UZ(3,"img",2),e.qZA(),e.qZA(),e.TgZ(4,"p",3),e._uU(5),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("value",r.gaugePercent),e.xp6(2),e.MGl("src","assets/icon/",null==r.currentTea?null:r.currentTea.icon,"",e.LSH),e.xp6(2),e.Oqu(r.brewingTime?r.brewingTime:"_ _ : _ _"))},directives:[P.EO,P.hc],styles:[".countdown[_ngcontent-%COMP%]     ngx-gauge{left:50%;transform:translate(-50%)}.countdown[_ngcontent-%COMP%]     ngx-gauge ngx-gauge-label{display:inline-block;width:80px}.countdown[_ngcontent-%COMP%]     ngx-gauge .reading-block{display:none!important}.countdown[_ngcontent-%COMP%]     ngx-gauge .reading-label{top:50%;transform:translateY(-50%)!important}.time-display[_ngcontent-%COMP%]{font-size:3rem;font-weight:bold;letter-spacing:8px;text-align:center;color:var(--dark-navy);margin:.5rem 0 1.5rem}img[_ngcontent-%COMP%]{filter:invert(56%) sepia(78%) saturate(498%) hue-rotate(34deg) brightness(101%) contrast(75%)}"]}),n})();function B(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).resetTimer()}),e._uU(2," Reset "),e.qZA(),e.BQk()}}function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).startTimer()}),e._uU(1," Start brewing "),e.qZA(),e.TgZ(2,"ion-button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).cancelTimer()}),e._uU(3," Cancel "),e.qZA()}}function J(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"p",2),e._uU(2),e.qZA(),e.TgZ(3,"ion-grid"),e.TgZ(4,"ion-row"),e.TgZ(5,"ion-col",3),e._UZ(6,"ion-icon",4),e.TgZ(7,"p"),e._uU(8),e.TgZ(9,"span"),e._uU(10,"\xa0"),e.qZA(),e.TgZ(11,"span"),e._uU(12,"g"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"ion-col",3),e._UZ(14,"ion-icon",5),e.TgZ(15,"p"),e._uU(16),e.TgZ(17,"span"),e._uU(18,"\xa0"),e.qZA(),e.TgZ(19,"span"),e._uU(20,"ml"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"ion-col",3),e._UZ(22,"ion-icon",6),e.TgZ(23,"p"),e._uU(24),e.TgZ(25,"span"),e._uU(26,"\xa0"),e.qZA(),e.TgZ(27,"span"),e._uU(28,"\u02daC"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div"),e._UZ(30,"app-timercountdown",7),e.YNc(31,B,3,0,"ng-container",0),e.YNc(32,E,4,0,"ng-template",null,8,e.W1O),e.qZA(),e.BQk()),2&n){const t=e.MAs(33),r=e.oxw();e.xp6(2),e.Oqu(null==r.currentTea?null:r.currentTea.label),e.xp6(6),e.Oqu(null==r.currentTea?null:r.currentTea.teaAmount),e.xp6(8),e.Oqu(null==r.currentTea?null:r.currentTea.waterAmount),e.xp6(8),e.Oqu(null==r.currentTea?null:r.currentTea.temperature),e.xp6(6),e.Q6J("currentTea",r.currentTea)("timerIsOn",r.timerIsOn),e.xp6(1),e.Q6J("ngIf",r.timerIsOn)("ngIfElse",t)}}function Y(n,o){1&n&&(e.TgZ(0,"small"),e._uU(1,"Please enter a valid number for the minutes."),e.qZA())}function F(n,o){1&n&&(e.TgZ(0,"small"),e._uU(1,"Please enter a valid number for the seconds."),e.qZA())}function N(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-button",9),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(1);return e.oxw().resetCustomTimer(a)}),e._uU(2," Reset "),e.qZA(),e.BQk()}}function z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",22),e._uU(1," Start brewing "),e.qZA(),e.TgZ(2,"ion-button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).cancelTimer()}),e._uU(3," Cancel "),e.qZA()}if(2&n){e.oxw();const t=e.MAs(7),r=e.MAs(13);e.Q6J("disabled",!t.valid||!r.valid)}}function Q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",12,13),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.MAs(1);return e.oxw().setCustomTimer(a)}),e.TgZ(2,"div",14),e.TgZ(3,"ion-item"),e.TgZ(4,"ion-label",15),e._uU(5,"Minutes"),e.qZA(),e._UZ(6,"ion-input",16,17),e.YNc(8,Y,2,0,"small",18),e.qZA(),e.TgZ(9,"ion-item"),e.TgZ(10,"ion-label",15),e._uU(11,"Seconds"),e.qZA(),e._UZ(12,"ion-input",19,20),e.YNc(14,F,2,0,"small",18),e.qZA(),e.qZA(),e._UZ(15,"app-timercountdown",21),e.YNc(16,N,3,0,"ng-container",0),e.YNc(17,z,4,1,"ng-template",null,8,e.W1O),e.qZA()}if(2&n){const t=e.MAs(7),r=e.MAs(13),a=e.MAs(18),i=e.oxw();e.xp6(8),e.Q6J("ngIf",!t.valid&&t.touched),e.xp6(6),e.Q6J("ngIf",!r.valid&&r.touched),e.xp6(1),e.Q6J("currentTea",i.currentTea)("timerIsOn",i.timerIsOn)("customizedTimer",i.customizedTimeInSeconds),e.xp6(1),e.Q6J("ngIf",i.timerIsOn)("ngIfElse",a)}}let D=(()=>{class n{constructor(t,r,a){this.route=t,this.router=r,this.timerService=a}ngOnInit(){}startTimer(){this.timerIsOn=!0}resetTimer(){this.timerIsOn=!1}cancelTimer(){this.timerService.cancelTimer.next(!0)}setCustomTimer(t){this.timerIsOn=!0,this.customizedTimeInSeconds=60*t.value.minutes+t.value.seconds}resetCustomTimer(t){this.timerIsOn=!1,t.resetForm()}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.gz),e.Y36(b.F0),e.Y36(w.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-timer"]],inputs:{currentTea:"currentTea"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["customizeTimer",""],[1,"tea-name"],[1,"ion-text-center"],["name","leaf-outline"],["name","water-outline"],["name","thermometer-outline"],[3,"currentTea","timerIsOn"],["timerOff",""],["color","secondary","expand","block","shape","round",3,"click"],["color","primary","expand","block","shape","round",3,"click"],["color","tertiary","expand","block","shape","round","fill","outline",3,"click"],[3,"ngSubmit"],["timerForm","ngForm"],[1,"flex-box"],["position","floating"],["type","number","name","minutes","min","0","required","","ngModel",""],["minute","ngModel"],[4,"ngIf"],["type","number","name","seconds","min","0","required","","ngModel",""],["second","ngModel"],[3,"currentTea","timerIsOn","customizedTimer"],["color","primary","expand","block","shape","round","type","submit",3,"disabled"]],template:function(t,r){if(1&t&&(e.YNc(0,J,34,8,"ng-container",0),e.YNc(1,Q,19,7,"ng-template",null,1,e.W1O)),2&t){const a=e.MAs(2);e.Q6J("ngIf","Customize"!==(null==r.currentTea?null:r.currentTea.label))("ngIfElse",a)}},directives:[h.O5,u.jY,u.Nd,u.wI,u.gu,j,u.YG,f._Y,f.JL,f.F,u.Ie,u.Q$,u.pK,u.as,f.Q7,f.JJ,f.On],styles:[".tea-name[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:var(--bright-green)}ion-grid[_ngcontent-%COMP%]{width:100%;margin-top:2rem}ion-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]     ion-icon{width:26px;height:26px}ion-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--medium-green);background:var(--light-yellow);padding:.5rem;border-radius:50px}ion-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--medium-green)}.flex-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:0 2rem 2rem}ion-button[_ngcontent-%COMP%]{height:auto;margin:0 4rem 1rem}small[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),n})();function H(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw(2).goToTimer(i)}),e._UZ(1,"img",5),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.MGl("src","assets/icon/",t.icon,"",e.LSH),e.xp6(2),e.Oqu(t.label)}}function $(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,H,4,2,"button",3),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.allTeas)}}function R(n,o){if(1&n&&e._UZ(0,"app-timer",6),2&n){const t=e.oxw();e.Q6J("currentTea",t.currentTea)}}let G=(()=>{class n{constructor(t){this.timerService=t,this.allTeas=Array.from(I),this.showAllTeas=!0}ngOnInit(){this.timerService.cancelTimer$.subscribe(t=>{this.showAllTeas=t})}goToTimer(t){this.timerService.cancelTimer.next(!1),this.currentTea=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tstandard"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showTimer",""],[1,"tea-group"],["class","tea-tile",3,"click",4,"ngFor","ngForOf"],[1,"tea-tile",3,"click"],["alt","",3,"src"],[3,"currentTea"]],template:function(t,r){if(1&t&&(e.YNc(0,$,3,1,"ng-container",0),e.YNc(1,R,1,1,"ng-template",null,1,e.W1O)),2&t){const a=e.MAs(2);e.Q6J("ngIf",r.showAllTeas)("ngIfElse",a)}},directives:[h.O5,h.sg,D],styles:[".tea-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem;padding:1rem}.tea-tile[_ngcontent-%COMP%]{padding:1rem;background:var(--bright-green);border-radius:20px;min-width:100px;text-align:center;filter:drop-shadow(0px 4px 2px rgba(0,0,0,.14)) drop-shadow(0px 1px 5px rgba(0,0,0,.12))}.tea-tile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin-top:.5rem;font-weight:bold;font-size:1rem;color:var(--medium-green)}"]}),n})(),L=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tmaster"]],decls:2,vars:0,template:function(t,r){1&t&&(e.TgZ(0,"p"),e._uU(1," tmaster works!\n"),e.qZA())},styles:[""]}),n})();function W(n,o){1&n&&(e.ynx(0),e._UZ(1,"app-tstandard"),e.BQk())}function X(n,o){1&n&&e._UZ(0,"app-tmaster")}const K=[{path:"",component:(()=>{class n{constructor(t){this.timerService=t,this.currentTab="standard",this.hideHeader=!1}ngOnInit(){this.timerService.cancelTimer$.subscribe(t=>{this.hideHeader=!t,console.log("hide?",t)})}selectTimer(t){this.currentTab=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-brew"]],decls:13,vars:8,consts:[[1,"tabs"],[3,"click"],[4,"ngIf","ngIfElse"],["tmaster",""]],template:function(t,r){if(1&t&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"h1"),e._uU(3,"Brew"),e.qZA(),e.TgZ(4,"div",0),e.TgZ(5,"ion-text",1),e.NdJ("click",function(){return r.selectTimer("standard")}),e._uU(6,"Standard"),e.qZA(),e.TgZ(7,"ion-text",1),e.NdJ("click",function(){return r.selectTimer("master")}),e._uU(8,"TGuru Master"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"ion-content"),e.YNc(10,W,2,0,"ng-container",2),e.YNc(11,X,1,0,"ng-template",null,3,e.W1O),e.qZA()),2&t){const a=e.MAs(12);e.ekj("hide",r.hideHeader),e.xp6(5),e.ekj("active","standard"===r.currentTab),e.xp6(2),e.ekj("active","master"===r.currentTab),e.xp6(3),e.Q6J("ngIf","standard"===r.currentTab)("ngIfElse",a)}},directives:[u.Gu,u.sr,u.yW,u.W2,h.O5,G,L],styles:['ion-header.hide[_ngcontent-%COMP%]{display:none}.tabs[_ngcontent-%COMP%]{display:flex}.tabs[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{padding-bottom:12px;position:relative}.tabs[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]:nth-child(1){margin-right:3rem}.tabs[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]:not(.active){color:var(--grey-500)}.tabs[_ngcontent-%COMP%]   ion-text.active[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.tabs[_ngcontent-%COMP%]   ion-text.active[_ngcontent-%COMP%]:after{position:absolute;bottom:0;left:0;width:40px;height:4px;border-radius:2px;background-color:var(--ion-color-primary);content:""}']}),n})()}];let V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[b.Bz.forChild(K)],b.Bz]}),n})();var ee=g(4466);let te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[h.ez,f.u5,u.Pc,ee.m,V]]}),n})()}}]);